{% extends "base.html" %}
{% block content %}

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap');

body{
    font-family: 'Poppins', sans-serif;
    background: #0f0f1a;
    color: white;
    margin: 0;
}

/* Container */
.dashboard-container{
    padding: 60px 5%;
}

/* Page Title */
.page-title{
    text-align: center;
    font-size: 42px;
    font-weight: 700;
    margin-bottom: 50px;
    background: linear-gradient(90deg,#ff0844,#ffb199);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

/* Tabs */
.tabs{
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
    margin-bottom: 40px;
}

.tab-btn{
    padding: 12px 30px;
    border-radius: 30px;
    border: none;
    cursor: pointer;
    font-weight: 600;
    background: rgba(255,255,255,0.08);
    color: white;
    transition: 0.4s;
    backdrop-filter: blur(10px);
}

.tab-btn:hover{
    background: linear-gradient(45deg,#ff0844,#ffb199);
    transform: translateY(-3px);
}

.tab-btn.active{
    background: linear-gradient(45deg,#ff0844,#ffb199);
    box-shadow: 0 0 20px rgba(255,0,80,0.6);
}

/* Dashboard Glass Box */
.dash{
    display: none;
    animation: fadeIn 0.6s ease;
}

.active-dash{
    display: block;
}

iframe{
    width: 100%;
    height: 850px;
    border-radius: 25px;
    border: none;
    box-shadow: 0 20px 50px rgba(0,0,0,0.6);
}

/* Animation */
@keyframes fadeIn{
    from{opacity:0; transform:translateY(20px);}
    to{opacity:1; transform:translateY(0);}
}

/* Responsive */
@media(max-width:768px){
    .page-title{font-size:28px;}
    iframe{height:600px;}
}
</style>

<div class="dashboard-container">

    <h2 class="page-title">Interactive Heart Disease Dashboards</h2>

    <div class="tabs">
        <button class="tab-btn active" onclick="showDash('d1', this)">Demographic Analysis</button>
        <button class="tab-btn" onclick="showDash('d2', this)">Lifestyle Factors</button>
        <button class="tab-btn" onclick="showDash('d3', this)">Medical Conditions</button>
    </div>

    <!-- Demographic -->
    <div id="d1" class="dash active-dash">
        <iframe 
        src="https://public.tableau.com/views/heartdiseaseg/Demographicanalysis?:embed=yes&:showVizHome=no">
        </iframe>
    </div>

    <!-- Lifestyle -->
    <div id="d2" class="dash">
        <iframe 
        src="https://public.tableau.com/views/heartdiseasegro/LifestyleRiskFactors?:embed=yes&:showVizHome=no">
        </iframe>
    </div>

    <!-- Medical -->
    <div id="d3" class="dash">
        <iframe 
        src="https://public.tableau.com/views/heartdiseasegr/MedicalConditionsAnalysis?:embed=yes&:showVizHome=no">
        </iframe>
    </div>

</div>

<script>
function showDash(id, btn) {
    document.querySelectorAll('.dash').forEach(d => d.classList.remove('active-dash'));
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));

    document.getElementById(id).classList.add('active-dash');
    btn.classList.add('active');
}
</script>

{% endblock %}